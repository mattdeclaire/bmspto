---
import PageLayout from "@layouts/PageLayout.astro";
---

<PageLayout title="Donate">
    <h1>We need your support!</h1>

    <p>A direct donation to the PTO is a great way for families to help who don't have the time to take on other projects. Contribution, no matter the size, will directly impact our students' education and overall experience at BMS. Funds will help with:</p>

    <ul>
        <li>Viking Night - our family event to celebrate our BMS community</li>
        <li>The 8th grade dance</li>
        <li>Organize and financially support the Book Fair and Game Room</li>
        <li>Grants for teachers to purchase classroom supplies, updating books in the library and classrooms,  technology, special projects, classroom improvement, and enrichment opportunities and curriculum Art projects on campus to build community</li>
        <li>Staff Appreciation Week </li>
        <li>5-Star Students Program to allow tracking hall passes, positive participation incentives and more!</li>
        <li>Projects to support and increase equity and inclusion on campus </li>
        <li>All events and activities for the year</li>
        <li>Gardening supplies, math games, classroom supplies</li>
        <li>Display cases for student art, sound equipment for drama, and updated PE equipment</li>
    </ul>

    <div class="my-10 p-10 bg-slate-200">
        <h3>Donation Guidance Form</h3>
        <p>Tell us about your student, and we'll provide guidance on a donation. Which classes and activities are they in?</p>

        <form id="donation-guidance-form" action="https://donate.stripe.com/00g4gZ0QSf1afKw7ss" method="GET">
            <ul class="my-6 list-none">
                <li>
                    <label>
                        <input type="checkbox" value="20" />
                        General Donation: $20 per student (project grants, school events, teacher appreciation, classroom supplies)
                    </label>
                </li>

                <li>
                    <label>
                        <input type="checkbox" value="10" />
                        Science: $10 per student (consumables, lab equipment)
                    </label>
                </li>

                <li>
                    Drama, broken down by class level:
                    <ul class="mt-0 list-none">
                        <li>
                            <label>
                                <input type="checkbox" value="10" />
                                $10 per student Intro to Drama (scripts, puppetry materials)
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" value="30" />
                                $30 per student Advanced Drama (costumes, improv t-shirts, stage materials)
                            </label>
                        </li>
                    </ul>
                </li>

                <li>
                    Art: Broken down by class levels:
                    <ul class="mt-0 list-none">
                        <li>
                            <label>
                                <input type="checkbox" value="10" />
                                $10 per student for 6th grade Wheel (paper, adhesives, color media)
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" value="20" />
                                $20 per student Intro to Art (paint, sculpture materials, craft supplies)
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" value="30" />
                                $30 per student Advanced Art (all of the above plus a field trip, sketchbook, and advanced media)
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" value="30" />
                                $30 per student Stage Crafts (field trip, lumber, tools, safety equipment, and other advanced media)
                            </label>
                        </li>                    
                    </ul>
                </li>

                <li>
                    <label>
                        <input type="checkbox" value="20" />
                        Athletics: $50 per player per sport (referees, tournament fees, uniforms)
                    </label>
                </li>
            </ul>

            <p>Can you donate more, or less? Or course! We know every family's situation is unique and no donation is too small.</p>
            
            <input type="hidden" name="__prefilled_amount" value="2000" />
            <button type="submit" class="btn mt-4" id="donate-bn">Donate</button>
            <p class="my-0 hidden" id="donation-change-tip">(amount can be changed on next page)</p>
            
            <p>Remember to check if your employer offers donation matching! The United Way and Benevity both have BMS PTO as a group you can donate to.</p>
            <p>You can donate here on the web, or bring cash or checks to the main office.</p>
            <p>Remember! We are a 501(c)3 charitable organization. So, your donation is tax deductible. <strong>FEIN: 84-3529231</strong></p>

        </form>
    </div>

</PageLayout>

<script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('#donation-guidance-form');
        const hiddenAmountInput = form.querySelector('input[name="__prefilled_amount"]');
        const checkboxes = form.querySelectorAll('input[type="checkbox"]');
        const donateButton = form.querySelector('button[type="submit"]');
        const tip = form.querySelector('#donation-change-tip');
        
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                let total = 0;
                
                checkboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        total += parseInt(checkbox.value, 10);
                    }
                });
                
                // Convert to cents for Stripe (multiply by 100)
                hiddenAmountInput.value = total * 100;
                
                donateButton.innerHTML = total > 0 ? "Donate $" + total : "Donate";
                tip.style.display = total > 0 ? 'block' : 'none';
            });
        });
    });
</script>